-- ============================================================================
-- V41: Sync Keywords from CSV (IDs 50-72)
-- ============================================================================
-- This migration adds new keyword entries from the updated keywords.csv file
-- Total new entries: 23 (IDs 50-72, excluding duplicate ID 60)
-- ============================================================================

-- ============================================================================
-- Update existing entries with additional domains
-- ============================================================================

-- Update blocked_marketing_domain (ID 5) - add qualcom.com, qualcomm.com
UPDATE job_automation_keywords
SET keywords = CONCAT(keywords, ',qualcom.com,qualcomm.com'),
    updated_at = CURRENT_TIMESTAMP
WHERE id = 5;

-- Update blocked_ats_domain (ID 13) - add icims.eu
UPDATE job_automation_keywords
SET keywords = CONCAT(keywords, ',icims.eu'),
    updated_at = CURRENT_TIMESTAMP
WHERE id = 13;

-- ============================================================================
-- Insert new keyword entries
-- ============================================================================

INSERT INTO job_automation_keywords (id, category, source, keywords, match_type, action, priority, context, is_active, created_at, updated_at) VALUES
(50, 'job_position_trigger_words', 'email_extractor', 'engineer,developer,scientist,architect,manager,lead,analyst,consultant,specialist,researcher,head,director,designer,administrator,coordinator,associate,executive,officer,programmer,tester,devops,sre,intern,trainee,apprentice,genai,gen ai,sdet,qa,quality assurance,scrum master,product owner,full stack,fullstack,backend,frontend,mobile,cloud,data,machine learning,deep learning,computer vision,nlp,natural language processing,principal,staff,senior,junior,mid-level,associate,vp,vice president,cto,cio,cfo,coo,cmo,chief,president,owner,master,agile,technical,software,hardware,systems,network,security,database,web,application,platform,infrastructure,site reliability,reliability,automation,integration,implementation,solutions,technical lead,team lead,tech lead,agentic,llm,rag,inference,prompt engineer', 'contains', 'allow', 50, 'Job position trigger words for extraction', 1, '2026-01-30T10:20:00', '2026-01-30T10:20:00'),
(51, 'location_false_positives', 'email_extractor', 'team,department,company,position,role,email,phone,contact,address,street,design,vector,width,height,length,works,solutions,systems,technologies,consulting,services,group,corporation,as discussed,demonstrate,advanced,programming,expertise,we are hiring,for ai engineer at,kosuri,rticularly,suring,turing enterprises,plainsboro road,db works,particularly in python,suring they are delivered on time', 'contains', 'block', 50, 'Words indicating junk locations', 1, '2026-01-28T15:00:42', '2026-01-28T15:00:42'),
(52, 'us_major_cities', 'email_extractor', 'new york,los angeles,chicago,houston,phoenix,philadelphia,san antonio,san diego,dallas,san jose,austin,jacksonville,fort worth,columbus,charlotte,san francisco,indianapolis,seattle,denver,washington,boston,el paso,nashville,detroit,oklahoma city,portland,las vegas,memphis,louisville,baltimore,milwaukee,albuquerque,tucson,fresno,mesa,sacramento,atlanta,kansas city,colorado springs,omaha,raleigh,miami,oakland,minneapolis,tulsa,wichita,new orleans,arlington,tampa,bakersfield,aurora,anaheim,santa ana,st louis,riverside,corpus christi,lexington,pittsburgh,anchorage,stockton,cincinnati,saint paul,toledo,greensboro,newark,plano,henderson,lincoln,buffalo,jersey city,chula vista,orlando,norfolk,chandler,laredo,madison,winston salem,lubbock,baton rouge,durham,garland,glendale,reno,hialeah,chesapeake,gilbert,boise,irving,scottsdale,fremont,richmond,san bernardino,birmingham,spokane,rochester,des moines,modesto,fayetteville,tacoma,oxnard,fontana,columbus,montgomery,moreno valley,shreveport,aurora,yonkers,akron,huntington beach,little rock,augusta,amarillo,glendale,mobile,grand rapids,salt lake city,tallahassee,huntsville,grand prairie,knoxville,worcester,newport news,brownsville,santa clarita,providence,overland park,garden grove,chattanooga,oceanside,jackson,fort lauderdale,santa rosa,rancho cucamonga,port st lucie,tempe,ontario,vancouver,cape coral,sioux falls,springfield,peoria,pembroke pines,elk grove,salem,lancaster,corona,eugene,palmdale,salinas,springfield,pasadena,fort collins,hayward,pomona,cary,rockford,alexandria,escondido,mckinney,kansas city,joliet,sunnyvale,torrance,bridgeport,lakewood,hollywood,paterson,naperville,syracuse,mesquite,dayton,savannah,clarksville,orange,pasadena,fullerton,killeen,frisco,hampton,mcallen,warren,bellevue,west valley city,columbia,olathe,sterling heights,new haven,miramar,waco,thousand oaks,cedar rapids,charleston,visalia,topeka,elizabeth,gainesville,thornton,roseville,carrollton,coral springs,stamford,simi valley,concord,hartford,kent,santa clara,lafayette,midland,daly city,surprise,roswell,lewisville,west jordan,murrieta,allen,pearland,norman,billings,ann arbor,manchester,richardson,columbia,carlsbad,wilmington,inglewood,provo,arvada,independence,palm bay,el monte,clearwater,costa mesa,westminster,miami gardens,high point,manchester,pueblo,evansville,lowell,centennial,elgin,richmond,peoria,broken arrow,miami beach,downey,west palm beach,gresham,antioch,temecula,lansing,everett,ventura,west covina,league city,tyler,lakeland,norwalk,san mateo,green bay,wichita falls,sparks,lakewood,burbank,renton,vista,davenport,south bend,las cruces,warwick,rialto,boulder,woodbridge,vacaville,davie,south gate,mission viejo,roanoke,chico,redding,edinburg,cranston,parma,new bedford,cicero,hammond,alameda,sandy springs,sunrise,st petersburg,rochester,odessa,tuscaloosa,livonia,dearborn,westland,rochester hills,st joseph,quincy,flint,compton,san angelo,springfield,sandy,clinton,edison,college station,north las vegas,danbury,meridian,ogden,kenosha,chino,chino hills,san marcos,redwood city,st charles,buena park,o fallon,lee summit,tracy,alhambra,kirkland,duluth,menifee,bellingham,westminster,upland,fishers,plantation,palm coast,suffolk,macomb,smyrna,conroe,lawrence,appleton,rio rancho,mission,flower mound,bryan,bethlehem,mount vernon,longmont,loveland,decatur,eau claire,champaign,bloomington,st george,kennewick,baldwin park,cheyenne,san leandro,reading,pharr,northglenn,gulfport,pasco,st cloud,lynwood,lakeville,merced,napa,redlands,rapid city,hesperia,casa grande,yakima,st peters,medford,eagan,somerville,bellflower,westland,troy,johns creek,camarillo,largo,dearborn heights,wylie,sandy springs,south jordan,goodyear,turlock,ames,livermore,sugar land,hendersonville,hilton head island,racine,missouri city,edmonds,muskegon,apple valley,duncanville,lauderhill,germantown,rocklin,lake forest,deerfield beach,huntington,kalamazoo,moorhead,st louis park,lake elsinore,alameda,folsom,poway,delray beach,pleasanton,porterville,lincoln,cedar hill,laguna niguel,lake havasu city,alpharetta,lehi,schertz,auburn,covina,brentwood,beaverton,danville,san rafael,laguna beach,redondo beach,bethlehem,palo alto,encinitas,pleasanton,castle rock,yorba linda,dublin,petaluma,highland,novato,lake charles,bellingham,downers grove,hanford,lodi,westfield,paramount,grand junction,st clair shores,perris,manteca,council bluffs,normal,springfield,loveland,gaithersburg,kissimmee,coeur d alene,woodland,santa maria,ceres,lacey,olympia,rowlett,auburn,laguna hills,gardena,coon rapids,iowa city,san bruno,parker,st cloud,jupiter,maple grove,diamond bar,boynton beach,cathedral city,terre haute,bowling green,bloomington,kenner,brooklyn park,daly city,taylorsville,west des moines,gary,edmond,rochester,denton,bismarck,st joseph,apple valley,shawnee,dothan,pocatello,burlington,new braunfels,hilton head,cedar rapids,leesburg,goose creek,yorba linda,lake oswego,dubuque,rockwall,westminster,sarasota,cupertino,mountain view,sunnyvale,palo alto,santa clara,milpitas,fremont,pleasanton,livermore,dublin,san ramon,walnut creek,concord,antioch,pittsburg,martinez,richmond,berkeley,oakland,alameda,san leandro,hayward,union city,newark,redwood city,san mateo,burlingame,millbrae,san bruno,south san francisco,daly city,pacifica,half moon bay,menlo park,atherton,portola valley,woodside,los altos,los altos hills,saratoga,campbell,los gatos,monte sereno,morgan hill,gilroy,iselin,plainsboro,mclean,wilmington,dayton,sunrise,alpharetta,cupertino', 'contains', 'allow', 100, 'Major US cities for location validation', 1, '2026-01-28T15:00:42', '2026-01-28T15:00:42'),
(53, 'location_junk_patterns', 'email_extractor', '\\bthe\\b,\\band\\b,\\bor\\b,\\bfor\\b,\\bat\\b,\\bin\\b,\\bto\\b,\\bwith\\b,\\bfrom\\b,\\bby\\b,\\bof\\b,\\bis\\b,\\bare\\b,\\bwas\\b,\\bwere\\b,\\bbeen\\b,\\bbeing\\b,\\bhave\\b,\\bhas\\b,\\bhad\\b,\\bdo\\b,\\bdoes\\b,\\bdid\\b,\\bwill\\b,\\bwould\\b,\\bcould\\b,\\bshould\\b,\\bmay\\b,\\bmight\\b,\\bmust\\b,\\bcan\\b,\\bthey\\b,\\bensuring\\b,\\bdemonstrate\\b,\\bparticularly\\b,\\bexpertise\\b', 'regex', 'block', 50, 'Regex patterns for junk in locations', 1, '2026-01-28T15:00:42', '2026-01-28T15:00:42'),
(54, 'position_marketing_words', 'email_extractor', 'highly skilled,highly-skilled,innovative,experienced,talented,exceptional,outstanding,expert,professional,qualified,certified,proven,dedicated,motivated,dynamic,results-driven,results driven,top-notch,top notch,world-class,world class,best-in-class,best in class', 'contains', 'block', 50, 'Marketing words to remove from job positions', 1, '2026-01-28T15:00:42', '2026-01-28T15:00:42'),
(55, 'position_prefixes_remove', 'email_extractor', 'the ,a ,an ,our ,your ,this ,that ,position of ,role of ,job of ', 'exact', 'block', 50, 'Common prefixes to strip', 1, '2026-01-28T15:00:42', '2026-01-28T15:00:42'),
(56, 'position_trailing_artifacts', 'email_extractor', 'location,duration,role,position,opening,opportunity,job,vacancy,req,requirement,needed,wanted', 'contains', 'block', 50, 'Trailing words to remove', 1, '2026-01-28T15:00:42', '2026-01-28T15:00:42'),
(57, 'html_tag_patterns', 'email_extractor', '<[^>]*>,&nbsp;,&amp;,&lt;,&gt;,&quot;,&#39;,&apos;', 'regex', 'block', 50, 'HTML tags to strip', 1, '2026-01-28T15:00:42', '2026-01-28T15:00:42'),
(58, 'us_state_abbreviations', 'email_extractor', 'AL,AK,AZ,AR,CA,CO,CT,DE,FL,GA,HI,ID,IL,IN,IA,KS,KY,LA,ME,MD,MA,MI,MN,MS,MO,MT,NE,NV,NH,NJ,NM,NY,NC,ND,OH,OK,OR,PA,RI,SC,SD,TN,TX,UT,VT,VA,WA,WV,WI,WY,DC', 'contains', 'allow', 100, 'US state abbreviations', 1, '2026-01-28T15:16:38', '2026-01-28T15:16:38'),
(59, 'us_state_name_mappings', 'email_extractor', 'alabama|AL,alaska|AK,arizona|AZ,arkansas|AR,california|CA,colorado|CO,connecticut|CT,delaware|DE,florida|FL,georgia|GA,hawaii|HI,idaho|ID,illinois|IL,indiana|IN,iowa|IA,kansas|KS,kentucky|KY,louisiana|LA,maine|ME,maryland|MD,massachusetts|MA,michigan|MI,minnesota|MN,mississippi|MS,missouri|MO,montana|MT,nebraska|NE,nevada|NV,new hampshire|NH,new jersey|NJ,new mexico|NM,new york|NY,north carolina|NC,north dakota|ND,ohio|OH,oklahoma|OK,oregon|OR,pennsylvania|PA,rhode island|RI,south carolina|SC,south dakota|SD,tennessee|TN,texas|TX,utah|UT,vermont|VT,virginia|VA,washington|WA,west virginia|WV,wisconsin|WI,wyoming|WY', 'contains', 'allow', 100, 'State name mappings', 1, '2026-01-28T15:16:38', '2026-01-28T15:16:38'),
(60, 'job_title_suffixes', 'email_extractor', 'developer,engineer,architect,manager,analyst,designer,consultant,specialist,administrator,coordinator,lead,director,programmer,tester,scientist,researcher,officer,executive,associate,representative,agent,advisor,sdet,qa,scrum master,product owner,devops,sre,owner,master,principal,staff,vp,cto,cio,cfo,coo,cmo,president,chief,head', 'contains', 'allow', 50, 'Job title suffixes', 1, '2026-01-30T09:47:56', '2026-01-30T09:47:56'),
(61, 'acronym_capitalizations', 'email_extractor', 'ai|AI,ml|ML,nlp|NLP,api|API,aws|AWS,gcp|GCP,ui|UI,ux|UX,qa|QA,sre|SRE,devops|DevOps,cicd|CI/CD,sdet|SDET,etl|ETL,bi|BI,iot|IoT,ar|AR,vr|VR,saas|SaaS,paas|PaaS,iaas|IaaS,rpa|RPA,ocr|OCR,sdk|SDK,crm|CRM,erp|ERP,hr|HR,it|IT,gen|Gen,agents|Agents,agentic|Agentic,inference|Inference,llm|LLM,rag|RAG', 'contains', 'allow', 50, 'Acronym capitalization mapping', 1, '2026-01-30T10:20:00', '2026-01-30T10:20:00'),
(62, 'location_name_indicators', 'email_extractor', 'road,street,avenue,boulevard,drive,lane,way,court,place,circle,parkway,highway,route,plaza,terrace,trail,path', 'contains', 'block', 50, 'Street name indicators', 1, '2026-01-28T15:16:38', '2026-01-28T15:16:38'),
(63, 'employment_type_keywords', 'email_extractor', 'full time,full-time,fulltime,ft,part time,part-time,parttime,pt,contract,contractor,c2c,corp to corp,corp-to-corp,w2,1099,temp,temporary,permanent,perm,freelance,freelancer,consultant,consulting,hourly,salaried,direct hire,direct-hire,contract to hire,contract-to-hire,c2h,independent contractor,self-employed,employee,employment,remote,hybrid,onsite,on-site,on site', 'contains', 'allow', 50, 'Employment type keywords', 1, '2026-01-30T09:47:56', '2026-01-30T09:47:56'),
(64, 'position_junk_intro_phrases', 'email_extractor', 'hello,hi,hey,my name is,i am a,i am working as,i do have below,we have an opening,sharing a job,shared with you,is shared,is looking for,we are seeking,we are looking,i representing,reaching out to you,hope you are doing well,hope you are having a great day,good morning,good afternoon,my name is pratibha pal,my name is ashwani sharma,my name is mohammad afzal,my name is prakash kumar singh,my name is abhishek singh2,my name is reeba saini,my name is swapna more', 'contains', 'block', 50, 'Introductory phrases to remove from positions', 1, '2026-01-30T10:25:00', '2026-01-30T10:25:00'),
(65, 'blocked_recruiter_titles', 'email_extractor', 'recruitment consultant,recruiter,talent acquisition,talent acquisition specialist,talent specialist,headhunter,staffing specialist,staffing consultant,sourcer,hiring manager,hr manager,human resources manager,hr specialist,people operations,talent partner,recruitment manager,senior recruiter,technical recruiter,it recruiter', 'contains', 'block', 100, 'Recruiter job titles to filter from position extraction', 1, '2026-01-30T11:24:00', '2026-01-30T11:24:00'),
(66, 'position_company_prefixes', 'email_extractor', 'job opportunity with one of our clients,job opportunity with our client,job opportunity with,opportunity with one of our clients,opportunity with our client,client is seeking,our client is,for our client,on behalf of our client,representing our client,we are seeking,we are looking for,we have an opening for,working for our client,placed at our client,consulting for our client,role -,job title -,position -,job description -,job role -,opening for,vacancy for,requirement for,hiring for', 'contains', 'block', 50, 'Generic company/marketing prefixes to remove from positions (works for all companies)', 1, '2026-01-30T11:35:00', '2026-01-30T11:35:00'),
(67, 'position_core_keywords', 'email_extractor', 'engineer,developer,architect,scientist,analyst,manager,director,lead,designer,consultant,specialist,administrator,coordinator,programmer,tester,researcher,sre,devops,sdet,qa,scrum master,product owner,technician,associate,executive,officer,vp,vice president,cto,cio,cfo,principal,staff,senior,junior,head,chief,owner,master,gen ai,genai,generative ai,agentic ai,agentic,ai,ml,data,cloud,software,full stack,backend,frontend,mobile,machine learning,llm,rag,nlp,computer vision', 'contains', 'allow', 100, 'Core job keywords required for valid position extraction', 1, '2026-01-30T11:24:00', '2026-01-30T12:05:00'),
(68, 'position_marketing_fluff', 'email_extractor', 'great fit for,perfect fit for,ideal candidate,someone who wants to,looking to build,opportunity to,chance to,ability to,passion for,desire to,commitment to,dedication to,focus on,expertise in,experience in,background in,skills in,knowledge of,understanding of,familiarity with', 'contains', 'block', 50, 'Marketing fluff phrases to remove from positions', 1, '2026-01-30T11:24:00', '2026-01-30T11:24:00'),
(69, 'blocked_tracking_prefix', 'email_extractor', '^(?:pr|tr|ref|id|cid|bounce|v|s|u|ext)-[a-z0-9-]+-[0-9]+|^(?:pr|tr|ref|id|cid|bounce|v|s|u|ext)-[0-9]+', 'regex', 'block', 100, 'Tracking prefixes followed by IDs', 1, '2026-02-03T07:55:00', '2026-02-03T07:55:00'),
(70, 'blocked_digit_density', 'email_extractor', '[0-9]{4,}', 'regex', 'block', 100, '4+ digits in a row anywhere in the localpart', 1, '2026-02-03T07:55:00', '2026-02-03T07:55:00'),
(71, 'blocked_random_string', 'email_extractor', '[a-f0-9]{8,},[a-zA-Z0-9]{20,}', 'regex', 'block', 100, 'Long strings of random letters/numbers (Hex/Base64)', 1, '2026-02-03T07:55:00', '2026-02-03T07:55:00'),
(72, 'blocked_generic_domain', 'email_extractor', '^mail\..*,.*\.mail\..*,^email\..*,.*\.email\..*', 'regex', 'block', 100, 'Generic mail/email subdomains', 1, '2026-02-03T07:55:00', '2026-02-03T07:55:00');

-- ============================================================================
-- Migration Complete
-- ============================================================================